<div class="container">
  @if (isLeaf && node.text !== 'neuer Ordner') {
    <button mat-icon-button disabled id="leafBtn" class="leaf-btn"></button>
  } @else {
    <button
      id="nodeBtn"
      (click)="toggleNode(node)"
      [attr.aria-label]="'Toggle ' + node.text"
      class="node-btn"
    >
      <mat-icon class="small-icon" id="nodeIcon">
        {{ tree.isExpanded(node) ? 'remove' : 'add' }}
      </mat-icon>
    </button>
  }

  @if (node.favorite) {
    <app-nodetext
      class="favorite"
      [node]="node"
      [searchValue]="searchValue"
      (contextmenu)="sendPosition($event, true, false)"
      [isEnabled]="isEnabled"
      (mousedown)="sendPosition($event, false, true)"
    />
  } @else {
    <app-nodetext
      [node]="node"
      [searchValue]="searchValue"
      (contextmenu)="sendPosition($event, true, false)"
      [isEnabled]="isEnabled"
      (click)="toggleNode(node)"
    />
  }
</div>

<app-context-menu [node]="node" (menuAction)="onMenuAction($event)" />
