@if(isLeaf){
<div class="leaf-container">
  <button mat-icon-button disabled id="leafBtn" class="leaf-btn"></button>
  <app-nodetext
    [node]="node"
    [searchValue]="searchValue"
    (contextmenu)="onRightClick($event)"
    [isEnabled]="isEnabled"
  ></app-nodetext>
</div>

} @else{
<div class="node-container">
  <button
    id="nodeBtn"
    (click)="toggleNode(node)"
    [attr.aria-label]="'Toggle ' + node.text"
    class="node-btn"
  >
    <mat-icon class="small-icon" id="nodeIcon">
      {{ tree.isExpanded(node) ? "remove" : "add" }}
    </mat-icon>
  </button>
  <app-nodetext
    [node]="node"
    [searchValue]="searchValue"
    (contextmenu)="onRightClick($event)"
    [isEnabled]="isEnabled"
  ></app-nodetext>
</div>

} @if(favoritePopupIsVisible && node.favorite && node.children){
<div>
  <app-favorite-button
    [title]="'neue Ordner'"
    [position]="favoritePopupPosition"
    (buttonClick)="addNewFolder(node)"
  >
  </app-favorite-button>

  <app-favorite-button
    [title]="'löschen'"
    [position]="{ x: favoritePopupPosition.x, y: favoritePopupPosition.y + 30 }"
    (buttonClick)="removeFromFavorite(node)"
  >
  </app-favorite-button>

  <app-favorite-button
    [title]="'umbenennen'"
    [position]="{ x: favoritePopupPosition.x, y: favoritePopupPosition.y + 60 }"
    (buttonClick)="enableInput(node)"
  >
  </app-favorite-button>
</div>

} @else if(favoritePopupIsVisible && node.favorite){
<div>
  <app-favorite-button
    [title]="'löschen'"
    [position]="favoritePopupPosition"
    (buttonClick)="removeFromFavorite(node)"
  >
  </app-favorite-button>
  <app-favorite-button
    [title]="'umbenennen'"
    [position]="{ x: favoritePopupPosition.x, y: favoritePopupPosition.y + 30 }"
    (buttonClick)="enableInput(node)"
  >
  </app-favorite-button>
</div>

}@else if (favoritePopupIsVisible) {

<app-favorite-button
  [title]="'favoriten'"
  [position]="favoritePopupPosition"
  (buttonClick)="addToFavorite(node)"
>
</app-favorite-button>

}
